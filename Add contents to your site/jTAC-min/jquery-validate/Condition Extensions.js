if(!window.jTAC){throw new Error("window.jTAC not created.")}jTAC.require("Conditions.Base");jTAC_Temp={config:{depends:null,lookupKey:null},configrule:{lookupKey:jTAC.checkAsStrOrNull},replaceTokens:function(d,c){var b=d;switch(c.context){case"alert":b=jTAC.replaceAll(b,"{NEWLINE}","\n",true);case"tooltip":b=jTAC.replaceAll(b,"{NEWLINE}","\r",true);b=jTAC.replaceAll(b,"<(.|\n)+?>","");break;default:b=jTAC.replaceAll(b,"{NEWLINE}","<br />",true);break}if(jTAC.contains(b,"{ERRORLABEL}",true)){var a=c.messagelabel;b=jTAC.replaceAll(b,"{ERRORLABEL}",a!=null?a:"messagelabel")}return b},_replaceToken:function(c,b,a){if(jTAC.contains(c,b,true)){c=jTAC.replaceAll(c,b,a.toString(),true)}return c},_spReplaceToken:function(e,c,b){var d=new RegExp("\\{"+b+":([^:}]*):([^:}]*)\\}");var a=d.exec(e);if((a!=null)&&(a.length==3)){var f=new RegExp("{"+b+":"+a[1]+":"+a[2]+"}","gi");if(c==1){return e.replace(f,a[1])}else{return e.replace(f,a[2])}}return e},_tmReplaceToken:function(i,g,f,d){if(jTAC.contains(f)){var b=g;var c=this.getTypeManager();if(c){var a=jTAC.silentWarnings();jTAC.silentWarnings(true);try{try{if(typeof(b)=="string"){b=c.toValueNeutral(b)}b=c.toString(b);if(d.context=="html"){b=jTAC.htmlEncode(b)}}catch(h){b=g}}finally{jTAC.silentWarnings(a)}}i=jTAC.replaceAll(i,f,b,true)}return i},defaultErrorMessage:function(){return""},setDepends:function(a){if(typeof a=="function"){this.config.depends=a}else{if((typeof a=="string")&&(a.indexOf("{")!=0)){this.config.depends=a}else{this.config.depends=jTAC.checkAsConditionOrNull(a)}}},canEvaluate:function(){if(!this.getEnabled()){return false}if(this.getAutoDisable()&&!this._connsEditable()){return false}var b=this.getDepends();if(b){if(typeof b=="function"){var a=null;if(b.getConnection){a=b.getConnection().getElement()}return b.call(this,a)}else{if((typeof b=="object")&&b.canEvaluate()&&(b.evaluate()==0)){return false}}if(typeof b=="string"){return $(b).length>0}}return true},ruleName:function(){return this.$className.toLowerCase()}};jTAC.addMembers("Conditions.Base",jTAC_Temp);if(jTAC.isDefined("Conditions.BaseOneConnection")){jTAC_Temp={replaceTokens:function(d,b){var a=this.callParent([d,b]);var c=this.getConnection();a=this._tmReplaceToken(a,c.getTextValue(),"{VALUE}",b);if(jTAC.contains(a,"{LABEL}",true)){a=jTAC.replaceAll(a,"{LABEL}",c.getLabel()||"<strong>Warning: No label defined for "+c.getId()+". Use &lt;Label for=&gt; or data-msglabel='label' in the element.</strong>",true)}return a}};jTAC.addMembers("Conditions.BaseOneConnection",jTAC_Temp)}if(jTAC.isDefined("Conditions.BaseTwoConnections")){jTAC_Temp={replaceTokens:function(d,b){var a=this.callParent([d,b]);var c=this.getConnection2();a=this._tmReplaceToken(a,c.getTextValue(),"{VALUE2}",b);if(jTAC.contains(a,"{LABEL2}",true)){a=jTAC.replaceAll(a,"{LABEL2}",c.getLabel()||"<strong>Warning: No label defined for "+c.getId()+". Use &lt;Label for=&gt; or data-msglabel='label' in the element.</strong>",true)}return a}};jTAC.addMembers("Conditions.BaseTwoConnections",jTAC_Temp)}if(jTAC.isDefined("Conditions.DataTypeCheck")){jTAC_Temp={replaceTokens:function(d,c){var b=this.callParent([d,c]);if(jTAC.contains(b,"{DATATYPE}",true)){var a=this.getTypeManager().getFriendlyName();b=jTAC.replaceAll(b,"{DATATYPE}",a,true)}return b},defaultErrorMessage:function(){return"<span class='{ERRORLABEL}'>{LABEL}</span> must be a valid {DATATYPE}."}};jTAC.addMembers("Conditions.DataTypeCheck",jTAC_Temp)}if(jTAC.isDefined("Conditions.Range")){jTAC_Temp={ruleName:function(){return"advrange"},replaceTokens:function(c,b){var a=this.callParent([c,b]);a=this._tmReplaceToken(a,this.getMinimum(),"{MINIMUM}",b);a=this._tmReplaceToken(a,this.getMaximum(),"{MAXIMUM}",b);return a},defaultErrorMessage:function(){return"<span class='{ERRORLABEL}'>{LABEL}</span> must be between {MINIMUM} and {MAXIMUM}."}};jTAC.addMembers("Conditions.Range",jTAC_Temp)}if(jTAC.isDefined("Conditions.BaseOperator")){jTAC_Temp={replaceTokens:function(d,c){var b=this.callParent([d,c]);var a=this.getOperator();a=jTAC.translations.lookup(a,a);if(c.context=="html"){a=jTAC.htmlEncode(a)}b=jTAC.replaceAll(b,"{OPERATOR}",a,true);return b}};jTAC.addMembers("Conditions.BaseOperator",jTAC_Temp)}if(jTAC.isDefined("Conditions.CompareToValue")){jTAC_Temp={replaceTokens:function(c,b){var a=this.callParent([c,b]);a=this._tmReplaceToken(a,this.getValueToCompare(),"{VALUETOCOMPARE}",b);return a},defaultErrorMessage:function(){return"<span class='{ERRORLABEL}'>{LABEL}</span> must be {OPERATOR} {VALUETOCOMPARE}."}};jTAC.addMembers("Conditions.CompareToValue",jTAC_Temp)}if(jTAC.isDefined("Conditions.CompareTwoElements")){jTAC_Temp={defaultErrorMessage:function(){return"<span class='{ERRORLABEL}'>{LABEL}</span> must be {OPERATOR} <span class='{ERRORLABEL}'>{LABEL2}</span>."}};jTAC.addMembers("Conditions.CompareTwoElements",jTAC_Temp)}if(jTAC.isDefined("Conditions.Difference")){jTAC_Temp={replaceTokens:function(e,d){var c=this.callParent([e,d]);if(jTAC.contains(c,"{DIFFVALUE}",true)){var a=this.getDifferenceValue();if(typeof(a)!="string"){var b=jTAC.create("TypeManagers.Float");b.setTrailingZeroDecimalPlaces(0);b.setMaxDecimalPlaces(3);a=b.toString(a)}if(d.context=="html"){a=jTAC.htmlEncode(a)}c=jTAC.replaceAll(c,"{DIFFVALUE}",a,true)}return c},defaultErrorMessage:function(){return"Difference between <span class='{ERRORLABEL}'>{LABEL}</span> and <span class='{ERRORLABEL}'>{LABEL2}</span> must be {OPERATOR} {DIFFVALUE}."}};jTAC.addMembers("Conditions.Difference",jTAC_Temp)}if(jTAC.isDefined("Conditions.Required")){jTAC_Temp={ruleName:function(){return"advrequired"},replaceTokens:function(d,c){var b=this.callParent([d,c]);var a=this.count;if(a==null){a=0}b=jTAC.replaceAll(b,"{COUNT}",a.toString(),true);b=jTAC.replaceAll(b,"{MINIMUM}",this.getMinimum().toString(),true);return jTAC.replaceAll(b,"{MAXIMUM}",this.getMaximum().toString(),true)},defaultErrorMessage:function(){return"<span class='{ERRORLABEL}'>{LABEL}</span> requires an entry."}};jTAC.addMembers("Conditions.Required",jTAC_Temp)}if(jTAC.isDefined("Conditions.RequiredIndex")){jTAC_Temp={defaultErrorMessage:function(){return"<span class='{ERRORLABEL}'>{LABEL}</span> requires a selection."}};jTAC.addMembers("Conditions.RequiredIndex",jTAC_Temp)}if(jTAC.isDefined("Conditions.SelectedIndex")){jTAC_Temp={defaultErrorMessage:function(){return"<span class='{ERRORLABEL}'>{LABEL}</span> has an invalid selection. Choose another."}};jTAC.addMembers("Conditions.SelectedIndex",jTAC_Temp)}if(jTAC.isDefined("Conditions.BaseCounter")){jTAC_Temp={replaceTokens:function(g,f){var e=this.callParent([g,f]);var d=this.count;if(d==null){d=0}e=jTAC.replaceAll(e,"{COUNT}",d.toString(),true);e=this._spReplaceToken(e,d,"COUNT");var c=this.getMinimum();if(c==null){c=0}e=jTAC.replaceAll(e,"{MINIMUM}",c.toString(),true);var b=this.getMaximum();if(b==null){b=9999999}e=jTAC.replaceAll(e,"{MAXIMUM}",b.toString(),true);var a=Math.max(c-d,d-b);e=jTAC.replaceAll(e,"{DIFF}",a.toString(),true);e=this._spReplaceToken(e,a,"DIFF");return e}};jTAC.addMembers("Conditions.BaseCounter",jTAC_Temp)}if(jTAC.isDefined("Conditions.CharacterCount")){jTAC_Temp={defaultErrorMessage:function(){return"<span class='{ERRORLABEL}'>{LABEL}</span> must have between {MINIMUM} and {MAXIMUM} characters."}};jTAC.addMembers("Conditions.CharacterCount",jTAC_Temp)}if(jTAC.isDefined("Conditions.WordCount")){jTAC_Temp={defaultErrorMessage:function(){return"<span class='{ERRORLABEL}'>{LABEL}</span> must have between {MINIMUM} and {MAXIMUM} words."}};jTAC.addMembers("Conditions.WordCount",jTAC_Temp)}if(jTAC.isDefined("Conditions.CountSelections")){jTAC_Temp={defaultErrorMessage:function(){return"<span class='{ERRORLABEL}'>{LABEL}</span> must have between {MINIMUM} and {MAXIMUM} selections."}};jTAC.addMembers("Conditions.CountSelections",jTAC_Temp)}if(jTAC.isDefined("Conditions.RegExp")){jTAC_Temp={config:{patternLabel:"format",patternLookupKey:null},configrule:{patternLookupKey:jTAC.checkAsStrOrNull},replaceTokens:function(d,c){var b=this.callParent([d,c]);var a=jTAC.translations.lookup(this.getPatternLookupKey(),this.getPatternLabel());if(c.context=="html"){a=jTAC.htmlEncode(a)}return jTAC.replaceAll(b,"{PATTERN}",a,true)},defaultErrorMessage:function(){return"<span class='{ERRORLABEL}'>{LABEL}</span> must be a valid {PATTERN}."}};jTAC.addMembers("Conditions.RegExp",jTAC_Temp)}if(jTAC.isDefined("Conditions.DuplicateEntry")){jTAC_Temp={replaceTokens:function(d,c){var b=this.callParent([d,c]);if(jTAC.contains(b,"{LABEL",true)){var a="field 1";if(this._errconn1){a=this._errconn1.getLabel()}b=jTAC.replaceAll(b,"{LABEL1}",a,true);a="field 2";if(this._errconn2){a=this._errconn2.getLabel()}b=jTAC.replaceAll(b,"{LABEL2}",a,true)}return b},defaultErrorMessage:function(){return"<span class='{ERRORLABEL}'>{LABEL1}</span> must be different from <span class='{ERRORLABEL}'>{LABEL2}</span>."}};jTAC.addMembers("Conditions.DuplicateEntry",jTAC_Temp)}if(jTAC.isDefined("Conditions.BooleanLogic")){jTAC_Temp={defaultErrorMessage:function(){return"*** EXPLICITY ASSIGN THIS MESSAGE ***"}};jTAC.addMembers("Conditions.BooleanLogic",jTAC_Temp)}if(jTAC.isDefined("Conditions.UserFunction")){jTAC_Temp={defaultErrorMessage:function(){return"*** EXPLICITY ASSIGN THIS MESSAGE ***"}};jTAC.addMembers("Conditions.UserFunction",jTAC_Temp)};