(function(b){var a={_calcWidget:null,options:new jTAC_CalculatorOptions(),_create:function(){if(!window.jTAC){throw new Error("window.jTAC not created.")}jTAC.require(["CalcItems.Base","Calculations.Widget","TypeManagers.Float"]);var d=this;var c=jTAC.create("Calculations.Widget");d._calcWidget=c;c.elementId=d.element.get()[0].id;c.attachEvent("preCalc",function(){return d._trigger("preCalc",null,{})});c.attachEvent("postCalc",function(e){return d._trigger("postCalc",null,{value:e})});c.attachEvent("change",function(e){d._trigger("change",null,{value:e})})},_init:function(){try{jTAC._internal.pushContext("calculator._init()");var e=this;var g=this.options;this._convertEvent("preCalc");this._convertEvent("postCalc");this._convertEvent("change");var c=this._calcWidget;for(var d in g){var f=g[d];if((f!=null)&&(c[d]!==undefined)&&(typeof(f)!="function")){c[d]=f}}c.ready()}finally{jTAC._internal.popContext()}},_convertEvent:function(d){var c=this.options[d];if(c){if(typeof c=="string"){c=window[c];if(!c){jTAC.warn("Calculator ["+this.element.get()[0].id+"] options include ["+d+"]. This must be a globally defined function name to be used.");c=null}this.options[d]=c}}},_setOption:function(d,e){b.Widget.prototype._setOption.apply(this,arguments);var c=this._calcWidget;switch(d){case"calcItem":c.calcItem=e;if(c.calcOnInit&&c.canEvaluate()){c.evaluate()}break;case"calcOnInit":if(e){if(c.canEvaluate()){c.evaluate()}}break;case"displayErrorClass":c.displayErrorClass=e;break;case"displayNullClass":c.displayNullClass=e;break;case"displayErrorText":c.displayErrorText=e;break;case"displayNullText":c.displayNullText=e;break;case"preCalc":case"postCalc":case"change":this._convertEvent(d);break;default:}}};b.widget("ui.calculator",a)})(jQuery);function jTAC_CalculatorOptions(){}jTAC_CalculatorOptions.prototype={calcItem:null,expression:null,calcOnInit:null,useChangeEvt:null,useKeyEvt:null,displayConnection:null,displayElementId:null,displayTypeManager:null,displayDatatype:null,displayErrorClass:null,displayNullClass:null,displayErrorText:null,displayNullText:null,preCalc:null,postCalc:null,change:null};