if(!window.jTAC){throw new Error("window.jTAC not created.")}jTAC._internal.temp._Connections_UserFunction={extend:"Connections.Base",constructor:function(a){this.callParent([a])},config:{fnc:null,connections:[],required:[],datatype:"",typeManager:null,typeName:""},configrules:{fnc:jTAC.checkAsFunctionOrNull,typeManager:jTAC.checkAsTypeManagerOrNull},userFunction:function(b,a){this._AM()},getTextValue:function(){this._prepare();if(!this.config.typeManager){var a=this._getConnValues();if(!a){return""}return this.config.fnc.call(this,this,a)}var b=this.getTypedValue(this.config.typeName);return b!=null?b.toString():""},typeSupported:function(a){this._prepare();return a==this.config.typeName},getTypedValue:function(a){this._prepare();if(!this.config.typeManager){this._error("Not supported.")}var b=this._getConnValues();if(b==null){return null}return this.config.fnc.call(this,this,b)},isNullValue:function(a){this._prepare();var b=this._getConnValues();if(b==null){return true}return this.config.fnc.call(this,this,b)==null},isEditable:function(){return false},getTypeManager:function(){this._prepare();return this.config.typeManager},_prepare:function(){var b=this.config;if(!this.config.fnc){this.config.fnc=this.userFunction}var a=b.connections;for(var c=0;c<a.length;c++){var d=a[c];if(!(d instanceof jTAC.Connections.Base)){if(typeof d=="string"){a[c]=jTAC.connectionResolver.create(d,null)}else{a[c]=jTAC.checkAsConnection(d)}}}if(!b.typeManager&&b.datatype){b.typeManager=jTAC.create(b.datatype)}b.typeName=b.typeManager?b.typeManager.storageTypeName():"string"},_getConnValues:function(){var d=this.config;var c=d.connections;var b=d.typeManager;var a=[];for(var e=0;e<c.length;e++){var f=c[e];var g=b?null:"";if(f.isValidValue(d.typeName)){if(f.isNullValue()){if(d.required[e]==true){return null}}g=b?b.toValueFromConnection(f):f.getTextValue()}a.push(g)}return a}};jTAC.define("Connections.UserFunction",jTAC._internal.temp._Connections_UserFunction);