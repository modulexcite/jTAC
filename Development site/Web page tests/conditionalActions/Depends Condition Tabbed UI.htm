<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
   <script src="../../jsunit/jsUnitCore.js" type="text/javascript"></script>
   <script src="../../jquery/jquery-1.5.1.js" type="text/javascript"></script>
   <script src="../../jquery/jquery-ui-1.8.11.js" type="text/javascript"></script>
   <script src="../../jquery-globalize/globalize.js" type="text/javascript"></script>
   <script src="../../jTAC/jTAC.js" type="text/javascript"></script>
   <script src="../../jTAC/TypeManagers/Base.js" type="text/javascript"></script>
   <script src="../../jTAC/TypeManagers/BaseCulture.js" type="text/javascript"></script>
   <script src="../../jTAC/TypeManagers/BaseNumber.js" type="text/javascript"></script>
   <script src="../../jTAC/TypeManagers/Integer.js" type="text/javascript"></script>
   <script src="../../jTAC/TypeManagers/Boolean.js" type="text/javascript"></script>
   <script src="../../jTAC/Connections/Base.js" type="text/javascript"></script>
   <script src="../../jTAC/Connections/BaseElement.js" type="text/javascript"></script>
   <script src="../../jTAC/Connections/FormElement.js" type="text/javascript"></script>
   <script src="../../jTAC/Connections/InnerHtml.js" type="text/javascript"></script>
   <script src="../../jTAC/Conditions/Base.js" type="text/javascript"></script>
   <script src="../../jTAC/Conditions/BaseOneConnection.js" type="text/javascript"></script>
   <script src="../../jTAC/Conditions/BaseTwoConnections.js" type="text/javascript"></script>
   <script src="../../jTAC/Conditions/BaseOneOrMoreConnections.js" type="text/javascript"></script>
   <script src="../../jTAC/Conditions/BaseOperator.js" type="text/javascript"></script>
   <script src="../../jTAC/Conditions/CompareToValue.js" type="text/javascript"></script>
   <script src="../../jTAC/Conditions/Required.js" type="text/javascript"></script>
   <script src="../../jTAC/Conditions/UserFunction.js" type="text/javascript"></script>
   <script src="../../jTAC/jquery-ui widgets/conditionalActions.js" type="text/javascript"></script>
   <script src="../../jTAC/jquery-ui widgets/jqActions/Base.js" type="text/javascript"></script>
   <script src="../../jTAC/jquery-ui widgets/jqActions/Show.js" type="text/javascript"></script>
   <script src="../../jTAC/jquery-ui widgets/jqActions/ClassName.js" type="text/javascript"></script>

   <style type="text/css">
      .tabShown
      {
         display: inline-block;
      }
      
      .tabHidden
      {
         background-color: #E0E0E0;
         display: inline-block;
      }
      
      .tabHidden:hover 
      {
         background-color: Silver;
      }
      
      .panel 
      {
         width: 100%;
         height: 200px;
         text-align:center;
      }
      
      .panel1 
      {
         border: 1px solid red;
         
      }
      .panel2
      {
         border: 1px solid green;
         
      }
      .panelContent 
      {
         vertical-align:middle;
         margin-top:auto;
         margin-bottom:auto;
      }
   </style>
</head>
<body>
   <script type="text/javascript">
      $(document).ready(
      function () {
         $("#panel1").ConditionalActions(
         { triggers: '#tab1',
            actions:
            [
               { jtacClass: 'jqActions.Show', effect: "fade" },
               { jtacClass: 'jqActions.Show', effect: "", reverse: true, selector: "#panel2" },
               { jtacClass: 'jqActions.ClassName', className: "tabShown", selector: "#tab1"},
               { jtacClass: 'jqActions.ClassName', className: "tabHidden", selector: "#tab2"}

            ],
            depend: { jtacClass: 'Conditions.UserFunction', fnc:"NeedsTabShown", elementId: 'tab1', options: {className: "tabShown"}}
         });
         $("#panel2").ConditionalActions(
         { triggers: '#tab2',
            actions:
            [
               { jtacClass: 'jqActions.Show', effect: "fade" },
               { jtacClass: 'jqActions.Show', effect: "", reverse: true, selector: "#panel1"},
               { jtacClass: 'jqActions.ClassName', className: "tabShown", selector: "#tab2"},
               { jtacClass: 'jqActions.ClassName', className: "tabHidden", selector: "#tab1"}
            ], 
            depend: { jtacClass: 'Conditions.UserFunction', fnc:"NeedsTabShown", elementId: 'tab2', options: {className: "tabShown"}},
            runOnLoad: false
         });
      }
      );
      function NeedsTabShown(cond) {
         if (!cond.options || (cond.options.className === undefined))
            return -1; // cannot evaluate
         return cond.connection.getClass() != cond.options.className ? 1 : 0;
      }
   </script>
   <p>A tabbed interface using ConditionalActions without Conditions, but instead using triggers to invoke a list of actions.
   It uses the depend Condition to avoid running if the tab is already selected.</p>
   <form action="" method="get" id="Form1">
      <div id="tab1">Tab 1</div><div id="tab2">Tab 2</div><br />
      <div id="panel1" class="panel panel1"><span class="panelContent">content of panel 1.</span></div>
      <div id="panel2" class="panel panel2"><span class="panelContent">content of panel 2.</span></div>
   </form>

</body>
</html>
