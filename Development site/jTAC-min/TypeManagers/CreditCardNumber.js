jTAC._internal.temp._TypeManagers_CreditCardNumber={extend:"TypeManagers.BaseString",constructor:function(a){this.callParent([a])},config:{brands:[{len:16,prefix:"51|52|53|54|55"},{len:13,prefix:"4"},{len:16,prefix:"4"},{len:15,prefix:"34|37"},{len:14,prefix:"300|301|302|303|305|36|38"},{len:16,prefix:"6011"}],allowSeps:""},configrules:{},dataTypeName:function(){return"CreditCardNumber"},_reviewValue:function(j){if(j==""){return""}var c=this.getAllowSeps();if(c){j=jTAC.replaceAll(j,c,"",true)}var f=j.length;if(f<10){this._inputError("Not enough digits")}if(!/^(\d+)$/.test(j)){this._inputError("Illegal character")}var m=this.getBrands();if(m){var a=0;for(var e=0;e<m.length;e++){var b=m[e];if(b.len==f){var l=new RegExp("^("+b.prefix+")","i");if(l.test(j)){a=1;break}}}if(!a){this._inputError("Brand mismatch")}}var k=0;var g=true;for(var e=f-1;e>=0;e--){var h=parseInt(j.charAt(e),10);if(g){k+=h}else{h=h*2;if(h>9){k+=1+(h%10)}else{k+=h}}g=!g}if(k%10!=0){this._inputError("Failed Luhns")}return j},isValidChar:function(a){if(!this.callParent([a])){return false}if(this.getAllowSeps()==a){return true}return"1234567890".indexOf(a)>-1},setBrands:function(a){if((a instanceof Array)||(a==null)){this.config.brands=a}else{this._error("Parameter must be an array or null.")}},setAllowSeps:function(a){if((typeof a=="string")&&(a.length<=1)){this.config.allowSeps=a}else{this._error("Parameter must be a 1 character string.")}}};jTAC.define("TypeManagers.CreditCardNumber",jTAC._internal.temp._TypeManagers_CreditCardNumber);jTAC.defineAlias("CreditCardNumber","TypeManagers.CreditCardNumber");jTAC.defineAlias("CreditCardNumber.AllBrands","TypeManagers.CreditCardNumber",{brands:null});