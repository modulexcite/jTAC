jTAC._internal.temp._CalcItems_Group={extend:"CalcItems.Base",require:["CalcItems.NaN","CalcItems.Number","TypeManagers.Float"],constructor:function(a){this.callParent([a])},config:{items:[],valueWhenEmpty:"CalcItems.Number",valueWhenInvalid:"CalcItems.NaN",valueWhenNull:"CalcItems.Number"},configrules:{valueWhenEmpty:jTAC.checkAsCalcItem,valueWhenInvalid:jTAC.checkAsCalcItem,valueWhenNull:jTAC.checkAsCalcItem},canEvaluate:function(){if(!this.getItems().length){return false}return this.callParent()},evaluate:function(){try{this._pushContext();this._cleanupItems();var h=this.getItems();var b=0;var a=jTAC.create("TypeManagers.Float");var f=true;for(var d=0;d<h.length;d++){if(h[d].canEvaluate()){f=false;var c=h[d].evaluate();if(isNaN(c)){var j=this.getValueWhenInvalid();if(!j||!j.canEvaluate()){return NaN}c=j.evaluate();if(isNaN(c)||(c==null)||j.getStopProcessing()){return c}}else{if(c==null){var k=this.getValueWhenNull();if(!k||!k.canEvaluate()){return null}c=k.evaluate();if(isNaN(c)||(c==null)||k.getStopProcessing()){return c}}}if(!d){b=c;continue}var e=1;var l=a.numDecPlaces(c);var g=a.numDecPlaces(b);switch(h[d].getOperator()){case"+":l=Math.max(l,g);b+=c;break;case"-":l=Math.max(l,g);b-=c;break;case"*":l=l+g;b*=c;break;case"/":if(c!=0){b=b/c}else{return NaN}e=0;break}if(e){b=a.round(b,0,l)}}}if(f){var k=this.getValueWhenEmpty();if(!k||!k.canEvaluate()){return null}return k.evaluate()}return b}finally{this._popContext()}},_cleanupItems:function(){var a=this.getItems();var c=null;for(var b=0;b<a.length;b++){var d=a[b];if((typeof d=="string")&&("+-*/".indexOf(d)>-1)){c=d;a.splice(b,1);if(b>=a.length){continue}d=a[b]}d=this._cleanupCalcItemInput(d);a[b]=d;if(c){d.operator=c;c=null}}},addItem:function(b,a){this._cleanupItems();b=this._cleanupCalcItemInput(b);if(a){b.operator=a}this.getItems().push(b)},collectConnections:function(c){this._cleanupItems();var a=this.getItems();for(var b=0;b<a.length;b++){a[b].collectConnections(c)}},parse:function(c,d){try{this._pushContext();this._checkParser(d);var b=d.oParen(c),a;if(b){c=b.rem;b=this.calcexpr(c,d);if(b){c=b.rem;a=b.ci;b=d.cParen(c);if(b){return{obj:a,rem:b.rem}}else{d.err(c,"Missing closing paren.",this)}}}return null}finally{this._popContext()}}};jTAC.define("CalcItems.Group",jTAC._internal.temp._CalcItems_Group);if(jTAC.parser){jTAC.parser.register("CalcItems.Group")};