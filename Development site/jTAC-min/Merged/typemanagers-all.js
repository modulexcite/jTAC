jTAC._internal.temp._TypeManagers_BaseNumber={extend:"TypeManagers.BaseCulture","abstract":true,constructor:function(a){this.callParent([a])},config:{allowNegatives:true,showGroupSep:true,allowGroupSep:true,strictSymbols:false},nativeTypeName:function(){return"number"},_reviewValue:function(a){if(a===null){return a}a=this.callParent([a]);if(isNaN(a)){this._error("Cannot pass NaN.")}this._checkAllowNegatives(a);return a},toNumber:function(a){return a},getMaxDecimalPlaces:function(){return 0},toStringNeutral:function(d){if(d==null){return""}var b=d.toString();if((b.indexOf("e")>-1)&&d.toFixed){var a=b.match(/^.+e[\-\+](\d*)$/);var c=parseInt(a[1],10);if(isNaN(c)){return""}b=d.toFixed(c)}return b},_nf:function(a){return this.numberFormat(a)},_checkNegSymbol:function(a){if((a.indexOf("(")>-1)&&!this._negPatHasParen()){this._error("Illegal negative symbol")}},_negPatHasParen:function(){var a=this._cache.nPAP;if(a==null){a=this._cache.nPAP=this._nf("NegPattern").indexOf("(")>-1}return a},_checkStrictSymbols:function(h){var g=this._nf("NegSymbol");var j=(h.indexOf(g)>-1)||h.indexOf("(")>-1;var d=this._nf(j?"NegPattern":"PosPattern")||"";if(!d){return}h=h.replace(g,"-");var c=this._nf("Symbol")||"";var b=d.indexOf("$")>-1?"$":(d.indexOf("%")>-1?"%":"");var a=h.indexOf(c)>-1;if(a){h=h.replace(c,b);d=jTAC.escapeRE(d);d=d.replace("\\ ","\\s?")}else{d=jTAC.replaceAll(d," ","");d=d.replace(b,"");d=jTAC.escapeRE(d)}d=d.replace("n","\\d+(\\.\\d*)?");d="^"+d+"$";var f=new RegExp(d);if(!f.test(h)){this._inputError("Symbols are not correctly positions.")}},_applyGroupSep:function(l){var c=this._nf("GroupSep");if(c==null){return l}var a="";var m=this._nf("DecimalSep");var j=l.indexOf(m);var g=l.length;if(j>-1){a=l.substring(j,g);g=j}var d=this._nf("GroupSizes");if(d==null){d=[3]}var b=0;var h=d[0];var k=0;for(var f=g-1;f>=0;f--){a=l.charAt(f)+a;if(f==0){break}k++;if(k==h){a=c+a;if(b<d.length-1){b++}if(d[b]==0){h=999}else{h=h+d[b]}}}return a},_checkAllowNegatives:function(a){if(!this.getAllowNegatives()&&(typeof a=="number")&&(a<0)){this._inputError("Negative values not allowed")}},_stripGroupSep:function(a){return jTAC.replaceAll(a,this._nf("GroupSep"),"",true)},_cleanTrailingZeros:function(f,g){if(g){var b=new RegExp(jTAC.escapeRE(this._nf("DecimalSep"))+"\\d*");var a=b.exec(f);if(a){var c=a[0];while(g<(c.length-1)){if(c.charAt(c.length-1)!="0"){break}c=c.substr(0,c.length-1)}var d=g-(c.length-1);if(d>0){c+="000000000000".substr(0,d)}f=f.replace(a[0],c)}}return f}};jTAC.define("TypeManagers.BaseNumber",jTAC._internal.temp._TypeManagers_BaseNumber);jTAC._internal.temp._TypeManagers_BaseFloat={extend:"TypeManagers.BaseNumber","abstract":true,constructor:function(a){this.callParent([a])},config:{maxDecimalPlaces:null,trailingZeroDecimalPlaces:1,roundMode:null,acceptPeriodAsDecSep:false},configrules:{maxDecimalPlaces:jTAC.checkAsIntOrNull,trailingZeroDecimalPlaces:jTAC.checkAsInt,roundMode:jTAC.checkAsIntOrNull},_nativeToString:function(d){if(d==null){return""}var b=this.floatToString(Math.abs(d));b=this._applyTrailingZeros(b);var c=this._nf("DecimalSep");if(c!="."){b=b.replace(".",c)}if(this.getShowGroupSep()){b=this._applyGroupSep(b)}var f=(d<0)?"NegPattern":"PosPattern";var a=this._nf(f);if(a){b=a.replace("n",b)}return b},_applyTrailingZeros:function(c){var d=this.getTrailingZeroDecimalPlaces();if((d==null)&&(c.indexOf(".")==-1)){c+=".0"}if(d>0){var b=c.indexOf(".");var a=d;if(b==-1){c+="."}else{a=d-(c.length-b-1)}if(a>0){c+=String("000000000000000000").substr(0,a)}}return c},_reviewValue:function(a){a=this.callParent([a]);if(a!=null){a=this._applyMaxDec(a)}return a},_stringToNative:function(b){this._checkNegSymbol(b);if(!this.getAllowGroupSep()){var a=this.numberFormat("GroupSep");if(a&&(b.indexOf(a)>-1)){this._inputError("Group separator not allowed.")}}var c=this._parse(b);if(isNaN(c)){this._inputError("Cannot convert ["+b+"] to "+this.dataTypeName()+".")}return c},_parse:function(g){var b=this._nf("Symbol");if(b){g=g.replace(b,"!!")}g=this._replaceDecSep(g);g=this._stripGroupSep(g);var j=this._nf("DecimalSep");if(j!="."){if(g.indexOf(".")>-1){this._inputError("Period character not supported in this culture.")}g=g.replace(j,".")}if(this.getStrictSymbols()){var h=b?g.replace("!!",b):g;this._checkStrictSymbols(h)}if(g.indexOf("!!")>-1){g=jTAC.trimStr(g.replace("!!",""))}var f=this._nf("NegSymbol");var d=(g.indexOf(f)>-1)||((g.indexOf("(")>-1)&&this._negPatHasParen());g=jTAC.trimStr(g);var k=this._cache.floatCharsRE;if(!k){var a=jTAC.escapeRE(f);this._cache.floatCharsRE=k=new RegExp("^(["+a+"\\(])?\\d+(\\.(\\d*))?(["+a+"\\)])?$")}if(!k.test(g)){this._inputError("Invalid characters found")}if(d){g=jTAC.trimStr(g.replace(f,"").replace("(","").replace(")",""))}var c=parseFloat(g);if(isNaN(c)){return c}if(d){c=-c}return c},_applyMaxDec:function(b){var a=this.getMaxDecimalPlaces();if(a){return this.round(b,this.getRoundMode(),a)}return b},toValueNeutral:function(a){if(a==null){return null}try{this._pushContext(null,a);if(typeof(a)=="number"){return this._reviewValue(a)}if(/^\-?\d+(\.\d+)?$/.test(a)){return parseFloat(a)}this._inputError("Required format: [-]digits[.digits]")}finally{this._popContext()}},toStringNeutral:function(b){if(b==null){return""}var a=this.callParent([b]);if(a.indexOf(".")==-1){a=a+".0"}return a},_valCharRE:function(){var a=this._nf("NegPattern")||"";var b="";if(this.getAllowNegatives()){b="-";if(a.indexOf("(")>-1){b+="()"}}var d=a.indexOf(" ")>-1?" ":"";var c=this.getMaxDecimalPlaces()!=0?this._nf("DecimalSep"):"";return new RegExp("[\\d"+jTAC.escapeRE(this._nf("GroupSep")+c+b+this._moreValidChars())+d+"]")},_moreValidChars:function(){return""},getMaxDecimalPlaces:function(){return this.config.maxDecimalPlaces},_replaceDecSep:function(g){if(!this.getAcceptPeriodAsDecSep()){return g}var d=this._nf("DecimalSep");if((d!=".")&&(g.indexOf(".")>-1)){if(g.indexOf(d)==-1){var a=false;var f=this._nf("GroupSep");if(f!="."){a=true}else{var c=g.indexOf(f);var b=g.lastIndexOf(f);if((c==-1)||(c==b)){a=true}}if(a){g=g.replace(".",d)}}}return g}};jTAC.define("TypeManagers.BaseFloat",jTAC._internal.temp._TypeManagers_BaseFloat);jTAC._internal.temp._TypeManagers_Integer={extend:"TypeManagers.BaseNumber",constructor:function(a){this.callParent([a])},config:{fillLeadZeros:0},configrules:{fillLeadZeros:jTAC.checkAsIntOrNull},dataTypeName:function(){return"integer"},storageTypeName:function(){return"integer"},_stringToNative:function(b){if(b==null){this._error("Cannot evaluate null value")}if(b.indexOf(this.numberFormat("DecimalSep"))>-1){this._error("Cannot evaluate a floating point number.")}var a=this.numberFormat("GroupSep");if(!this.getAllowGroupSep()&&a&&(b.indexOf(a)>-1)){this._inputError("Group separator not allowed.")}var c=this._parse(b);if(isNaN(c)){this._inputError("Cannot convert ["+b+"] to "+this.dataTypeName()+".")}return c},_parse:function(d){d=this._stripGroupSep(d);if(this.getStrictSymbols()){this._checkStrictSymbols(d)}var c=this._nf("NegSymbol");var g=d.indexOf(c)>-1;var b=this._cache.intCharsRE;if(!b){var a=jTAC.escapeRE(c);this._cache.intCharsRE=b=new RegExp("^("+a+")?\\d+("+a+")?$")}if(!b.test(d)){this._inputError("Illegal character found.")}if(g){d=d.replace(c,"")}var f=parseInt(d,10);if(!isNaN(f)&&(f!=null)&&((f>2147483647)||(f<-2147483648))){this._inputError("Exceeds 32 bit integer.")}if(g){f=-f}return f},_nativeToString:function(c){if(c==null){return""}var b=Math.abs(c).toString();if(this.getShowGroupSep()){b=this._applyGroupSep(b)}var a=this.getFillLeadZeros();if(a&&(b.length<a)){e="0000000000";b=e.substr(0,a-b.length)+b}if(c<0){b=this.numberFormat("NegPattern").replace("n",b)}return b},_reviewValue:function(a){if(Math.floor(a)!=a){this._inputError("Has decimal point.")}return this.callParent([a])},toValueNeutral:function(a){if(a==null){return null}try{this._pushContext();if(typeof(a)=="number"){return this._reviewValue(a)}if(/^\-?\d+$/.test(a)){return parseInt(a)}this._inputError("Required format: [-]digits")}finally{this._popContext()}},_valCharRE:function(){var b=this.getAllowGroupSep()?this.numberFormat("GroupSep"):"";var a=this.getAllowNegatives()?this.numberFormat("NegSymbol"):"";return new RegExp("[\\d"+jTAC.escapeRE(b+a)+"]")}};jTAC.define("TypeManagers.Integer",jTAC._internal.temp._TypeManagers_Integer);jTAC.defineAlias("Integer","TypeManagers.Integer");jTAC.defineAlias("Integer.Positive","TypeManagers.Integer",{allowNegatives:false});jTAC._internal.temp._TypeManagers_Float={extend:"TypeManagers.BaseFloat",constructor:function(a){this.callParent([a])},dataTypeName:function(){return"float"},storageTypeName:function(){return"float"}};jTAC.define("TypeManagers.Float",jTAC._internal.temp._TypeManagers_Float);jTAC.defineAlias("Float","TypeManagers.Float");jTAC.defineAlias("Float.Positive","TypeManagers.Float",{allowNegatives:false});jTAC._internal.temp._TypeManagers_Currency={extend:"TypeManagers.BaseFloat",constructor:function(a){this.callParent([a])},config:{trailingZeroDecimalPlaces:null,showCurrencySymbol:true,allowCurrencySymbol:true,useDecimalDigits:true,hideDecimalWhenZero:false},dataTypeName:function(){return"currency"},storageTypeName:function(){return"float"},_nativeToString:function(d){var c=this.callParent([d]);if(!this.getShowCurrencySymbol()){var b=/\s?\$\s?/;c=c.replace(b,"")}else{var a=this._nf("Symbol");c=c.replace("$",a)}if(this.getHideDecimalWhenZero()){var b=this._cache.checkDecRE;if(!b){this._cache.checkDecRE=b=new RegExp(jTAC.escapeRE(this._nf("DecimalSep"))+"0+(?![1-9])")}c=c.replace(b,"")}return c},_stringToNative:function(a){if(!this.getAllowCurrencySymbol()&&(a.indexOf(this._nf("Symbol"))>-1)){this._inputError("Currency symbol found but not allowed.")}return this.callParent([a])},_applyMaxDec:function(a){if(this.getUseDecimalDigits()){return this.callParent([a])}return a},_moreValidChars:function(){return this.getAllowCurrencySymbol()?this._nf("Symbol"):""},getMaxDecimalPlaces:function(){if(this.config.maxDecimalPlaces!=null){return this.config.maxDecimalPlaces}return this._nf("Decimals")},getTrailingZeroDecimalPlaces:function(){if(this.config.trailingZeroDecimalPlaces!=null){return this.config.trailingZeroDecimalPlaces}return this._nf("Decimals")},_nf:function(b){var a=this.currencyFormat(b);if(a===undefined){a=this.numberFormat(b)}return a}};jTAC.define("TypeManagers.Currency",jTAC._internal.temp._TypeManagers_Currency);jTAC.defineAlias("Currency","TypeManagers.Currency");jTAC.defineAlias("Currency.Positive","TypeManagers.Currency",{allowNegatives:false});jTAC._internal.temp._TypeManagers_Percent={extend:"TypeManagers.BaseFloat",constructor:function(a){this.callParent([a])},config:{trailingZeroDecimalPlaces:null,showPercentSymbol:true,allowPercentSymbol:true,oneEqualsOneHundred:true},dataTypeName:function(){return"percent"},storageTypeName:function(){return"float"},_stringToNative:function(a){if(!this.getAllowPercentSymbol()&&(a.indexOf(this._nf("Symbol"))>-1)){this._inputError("Percent symbol found but not allowed.")}var b=this.callParent([a]);b=this._toNativeAdjust(b);return b},_nativeToString:function(c){c=this._toStringAdjust(c);var b=this.callParent([c]);if(!this.getShowPercentSymbol()){var a=this._cache.stripSymbolRE;if(!a){a=this._cache.stripSymbolRE=new RegExp("\\s?%\\s?")}b=b.replace(a,"")}else{b=b.replace("%",this._nf("Symbol"))}return b},toValueNeutral:function(b){var a=this.callParent([b]);return this._toNativeAdjust(a)},toStringNeutral:function(a){a=this._toStringAdjust(a);return this.callParent([a])},_moreValidChars:function(a){return this.getAllowPercentSymbol()?this._nf("Symbol"):""},getTrailingZeroDecimalPlaces:function(){if(this.getMaxDecimalPlaces()==0){return 0}if(this.config.trailingZeroDecimalPlaces!=null){return this.config.trailingZeroDecimalPlaces}return this._nf("Decimals")},_toNativeAdjust:function(b){var a=this.getMaxDecimalPlaces();if((b!=null)&&this.getOneEqualsOneHundred()&&(a!=0)){var c=this.numDecPlaces(b);b=b/100;c=c+2;b=this.round(b,2,c)}return b},_toStringAdjust:function(b){var a=this.getMaxDecimalPlaces();if((b!=null)&&this.getOneEqualsOneHundred()&&(a!=0)){var c=this.numDecPlaces(b);b=100*b;c=c-2;if(c<0){c=0}b=this.round(b,2,c)}return b},_nf:function(b){var a=this.percentFormat(b);if(a===undefined){a=this.numberFormat(b)}return a}};jTAC.define("TypeManagers.Percent",jTAC._internal.temp._TypeManagers_Percent);jTAC.defineAlias("Percent","TypeManagers.Percent");jTAC.defineAlias("Percent.Positive","TypeManagers.Percent",{allowNegatives:false});jTAC.defineAlias("Percent.Integer","TypeManagers.Percent",{maxDecimalPlaces:0});jTAC.defineAlias("Percent.Integer.Positive","TypeManagers.Percent",{maxDecimalPlaces:0,allowNegatives:false});if(!window.jTAC){throw new Error("window.jTAC not created.")}jTAC._internal.temp._TypeManagers_BaseDatesAndTimes={extend:"TypeManagers.BaseCulture","abstract":true,config:{useUTC:false},nativeTypeName:function(){return"object"},supportsDates:function(){this.AM()},supportsTimes:function(){this.AM()},_stringToNative:function(b){var a=this._parse(b);if(a==null){this._inputError("Cannot convert ["+b+"] to "+this.dataTypeName()+".")}return this._fromNeutralToDate(a)},_parse:function(a){this.AM()},_nativeToString:function(b){if(b==null){return""}var a=this._fromDateToNeutral(b);return this._format(a)},_format:function(a){this.AM()},compare:function(b,a){if(typeof b=="string"){b=this.toValue(b)}b=this.toNumber(b);if(typeof a=="string"){a=this.toValue(a)}a=this.toNumber(a);return this.callParent([b,a])},isValidChar:function(b){if(!this.callParent([b])){return false}var a=this._cache.validChars;if(a==null){a=this._cache.validChars=this._valChars()}return a.indexOf(b)>-1},_valChars:function(){this.AM()},toValueNeutral:function(a){if(a==null){return null}try{this._pushContext();if(a instanceof Date){return this._reviewValue(a)}return this._getNeutralFormatTM().toValue(a)}finally{this._popContext()}},toStringNeutral:function(a){if(a==null){return""}return this._getNeutralFormatTM().toString(a)},_getNeutralFormatTM:function(){var a=this._internal.neutralTM;if(!a){a=this._internal.neutralTM=jTAC.create(this.$fullClassName);a._setNeutralFormat(this)}return a},_setNeutralFormat:function(a){this.setUseUTC(a.getUseUTC())},toNumber:function(a){if(a==null){return 0}if(a instanceof Date){return this._dateToNumber(a)}else{if(typeof a=="number"){return a}}return null},_dateToNumber:function(a){return Math.floor(a.valueOf()/1000)},_fromNeutralToDate:function(b){var a=new Date();if(b.y===undefined){b.y=a.getFullYear();b.M=a.getMonth();b.d=a.getDate()}if(b.h===undefined){b.h=b.m=b.s=0}if(this.getUseUTC()){a.setUTCFullYear(b.y,b.M-1,b.d);a.setUTCHours(b.h,b.m,b.s,0)}else{a.setFullYear(b.y,b.M-1,b.d);a.setHours(b.h,b.m,b.s,0)}return a},_fromDateToNeutral:function(a,d){var c={};var b=this.getUseUTC();if(d!=2){c.y=b?a.getUTCFullYear():a.getFullYear();c.M=b?a.getUTCMonth()+1:a.getMonth()+1;c.d=b?a.getUTCDate():a.getDate()}if(d!=1){c.h=b?a.getUTCHours():a.getHours();c.m=b?a.getUTCMinutes():a.getMinutes();c.s=b?a.getUTCSeconds():a.getSeconds()}return c},_patternOrder:function(d,b){var g=this._cache.order;if(!g){var a=d?this._datePattern():this._timePattern();g=[];var h=false;for(var c=0;c<a.length;c++){var f=a.charAt(c);if((b.indexOf(f)>-1)&&(g.indexOf(f)==-1)&&!h){g.push(f)}else{if(f=="'"){h=!h}}}this._cache.order=g}return g},_replacePart:function(f,h,g){var d=h.toString();var c=new RegExp("("+f+"+)");var a=c.exec(g);if(!a){return g}var b=a[0].length-d.length;if(b>0){d="000000".substr(0,b)+d}return g.replace(a[0],d)},_extractLiterals:function(c){var d=/(['"]([^'"]+)['"])/;var a,f,b=null;while(a=d.exec(c)){if((a[2].charAt(0)!="'")&&(a[2].charAt(0)!='"')){if(!b){b=[]}f=b.length;b.push(a[2]);c=c.replace(a[1],"{"+f+"}")}}return{pat:c,lit:b}},_restoreLiterals:function(c,a){if(a){for(var b=0;b<a.length;b++){c=c.replace("{"+b+"}",a[b])}}return c},_isNullYear:function(c){if(c instanceof Date){return c.getUTCFullYear()==1}var a=this._internal;var b=a.nullPat;if(b==null){b=a.nullPat=this._format({y:1,M:1,d:1,h:0,m:0,s:0})}return c===b}};jTAC.define("TypeManagers.BaseDatesAndTimes",jTAC._internal.temp._TypeManagers_BaseDatesAndTimes);jTAC._internal.temp._TypeManagers_BaseDate={extend:"TypeManagers.BaseDatesAndTimes","abstract":true,config:{dateFormat:0,twoDigitYear:true},configrules:{dateFormat:{values:[0,1,2,10,20,100],clearCache:true}},storageTypeName:function(){return"date"},supportsDates:function(){return true},supportsTimes:function(){return false},_parse:function(a){return this._parseDate(a)},_format:function(a){return this._formatDate(a)},_valChars:function(){var h="",j=new Array(),a="1234567890",n=this.dateTimeFormat("ShortDateSep"),g="(d{3,4})|(M{3,4})|('[^']+')|(\\s)|(\\,)|(/)",o=new RegExp(g,"g"),f,d,c,k=this._datePattern();if(k){h+=k;a+=n}while((f=o.exec(h))!=null){d=f[0];if(j.indexOf(d)==-1){c=null;var b=null;switch(d){case"ddd":b="DaysAbbr";break;case"dddd":b="Days";break;case"MMM":b="MonthsAbbr";break;case"MMMM":b="Months";break;case"/":break;default:a+=((d.indexOf("'")==0)?d.replace("'",""):d);break}if(b){c=this.dateTimeFormat(b)}if(c){var l=c.join("");a+=l.toLowerCase()+l.toUpperCase()}j.push(d)}}return a},_setNeutralFormat:function(a){this.callParent([a]);this.setDateFormat(100);this.setTwoDigitYear(false)},_dateToNumber:function(a){return Math.floor(a.valueOf()/86400000)},_skipDatePart:function(){return""},_timePattern:function(){return""},setDateFormat:function(a){this._defaultSetter("dateFormat",a);this._clearCache()},_parseDate:function(j){var f=this._createDatePatternRE();var h=f.exec(j);if(!h){return null}var g={y:1900,m:0,d:1},b,a=this._patternOrder(true,"Mdy");for(i=0;i<a.length;i++){g[a[i]]=b=parseInt(h[i+1],10);if(!isNaN(b)){switch(a[i]){case"d":if((b>31)||(b==0)){b=NaN}break;case"M":if((b>12)||(b==0)){b=NaN}break;case"y":if(b<100){if(this.getTwoDigitYear()){g.y+=(2000+b)<this.dateTimeFormat("TwoDigitYearMax")?2000:1900}else{this._inputError("Requires 4 digit year")}}else{if(b>9999){b=NaN}}break}}if(isNaN(b)){this._inputError("Invalid date part: "+a[i])}}var b=new Date(g.y,g.M-1,g.d,0,0,0,0),c=b.getFullYear(),d=b.getMonth();if((c!=g.y)||(d!=(g.M-1))){this._inputError("Day exceeds month range")}return g},_createDatePatternRE:function(){var b=this._cache.shortDateRE;if(!b){var a=this._datePattern();a=jTAC.replaceAll(a,"'","");a=a.replace(/d?d/,"(\\d{1,2})");a=a.replace(/M?M/,"(\\d{1,2})");a=a.replace(/y{2,4}/,this.getTwoDigitYear()?"(\\d{2,4})":"(\\d{4})");a=jTAC.replaceAll(a,"/",this.dateTimeFormat("ShortDateSep"),true);a="^"+a+"$";this._cache.shortDateRE=b=new RegExp(a)}return b},_formatDate:function(f,c){var d=c||this._datePattern();var a=this._extractLiterals(d);d=a.pat;d=jTAC.replaceAll(d,"/",this.dateTimeFormat("ShortDateSep"),true);d=this._replacePart("d",f.d,d);d=this._replacePart("yyyy",f.y,d);d=this._replacePart("yy",f.y,d);if(d.indexOf("MMMM")>-1){var b=this.dateTimeFormat("Months")[f.M-1];d=d.replace("MMMM",b)}else{if(d.indexOf("MMM")>-1){var b=this.dateTimeFormat("MonthsAbbr")[f.M-1];if(this.getDateFormat()==2){b=b.toUpperCase()}d=d.replace("MMM",b)}else{d=this._replacePart("M",f.M,d)}}return this._restoreLiterals(d,a.lit)},_datePattern:function(){var a;switch(this.getDateFormat()){case 0:a="ShortDatePattern";break;case 1:case 2:a="ShortDatePatternMN";break;case 10:a="AbbrDatePattern";break;case 20:a="LongDatePattern";break;case 100:return"yyyy'-'MM'-'dd";default:return""}return this.dateTimeFormat(a)}};jTAC.define("TypeManagers.BaseDate",jTAC._internal.temp._TypeManagers_BaseDate);jTAC._internal.temp._TypeManagers_Date={extend:"TypeManagers.BaseDate",constructor:function(a){this.callParent([a])},dataTypeName:function(){return"date"},_isNull:function(b){var a=this.callParent([b]);if(a){return true}return this._isNullYear(b)}};jTAC.define("TypeManagers.Date",jTAC._internal.temp._TypeManagers_Date);jTAC.defineAlias("Date","TypeManagers.Date");jTAC.defineAlias("Date.Short","TypeManagers.Date");jTAC.defineAlias("Date.Abbrev","TypeManagers.Date",{dateFormat:10});jTAC.defineAlias("Date.Long","TypeManagers.Date",{dateFormat:20});jTAC._internal.temp._TypeManagers_BaseTime={extend:"TypeManagers.BaseDatesAndTimes","abstract":true,constructor:function(a){this.callParent([a])},config:{timeFormat:0,timeOneEqualsSeconds:1,valueAsNumber:false,parseStrict:false,parseTimeRequires:"h"},configrules:{timeFormat:{values:[0,1,2,10,11,12,100,101],clearCache:true},parseTimeRequires:{values:["h","m","s"],clearCache:true}},nativeTypeName:function(){return this.getValueAsNumber()?"number":"object"},storageTypeName:function(){return this.getValueAsNumber()?"float":"time"},supportsDates:function(){return false},supportsTimes:function(){return true},_stringToNative:function(b){var a=this._parse(b);if(a==null){this._inputError("Cannot convert ["+b+"] to "+this.dataTypeName()+".")}if(this.getValueAsNumber()){return this._fromNeutralToNumber(a)}if(a.h>23){this._inputError("Hours exceeds 23")}return this._fromNeutralToDate(a)},_nativeToString:function(b){if(b==null){return""}var a=(b instanceof Date)?this._fromDateToNeutral(b):this._fromNumberToNeutral(b);return this._format(a)},_parse:function(a){return this._parseTime(a)},_format:function(a){return this._formatTime(a)},_valChars:function(){var k="",n=new Array(),a="1234567890",l=this.dateTimeFormat("TimeSep"),h="(tt)|('[^']+')|(\\s)|(\\:)",q=new RegExp(h,"g"),f,d,c,o=this._timePattern();if(o){k+=o;a+=l}while((f=q.exec(k))!=null){d=f[0];if(n.indexOf(d)==-1){c=null;var b=null;switch(d){case"tt":var j=this.dateTimeFormat("AM")||"";var g=this.dateTimeFormat("PM")||"";c=[j,g];break;case":":break;default:a+=((d.indexOf("'")==0)?d.replace("'",""):d);break}if(b){c=this.dateTimeFormat(b)}if(c){var p=c.join("");a+=p.toLowerCase()+p.toUpperCase()}n.push(d)}}return a},_setNeutralFormat:function(a){this.callParent([a]);this.setTimeFormat(100);this.setValueAsNumber(a.getValueAsNumber());this.setTimeOneEqualsSeconds(a.getTimeOneEqualsSeconds());this.setParseTimeRequires("s");this.setParseStrict(true)},_dateToNumber:function(a){return this._toTimeInSeconds(a,1)},_isTOD:function(){return true},setTimeFormat:function(a){this._defaultSetter("timeFormat",a);this._clearCache()},setTimeOneEqualsSeconds:function(a){this._defaultSetter("timeOneEqualsSeconds",a);this._clearCache()},_timePattern:function(){var a;switch(this.getTimeFormat()){case 0:case 2:a="LongTimePattern";break;case 1:a="ShortTimePattern";break;case 10:case 12:a="LongDurationPattern";break;case 11:a="ShortDurationPattern";break;case 100:return"HH:mm:ss";case 101:return"HH:mm";default:return""}return this.dateTimeFormat(a)},_parseTime:function(o){if(this.getParseStrict()){var q=this._strictTimePatternRE();var d=q.exec(o);if(!d){return null}}var l=[0,0,0],n=this.dateTimeFormat("TimeSep"),b=this._isTOD(),k=false,f=false;if(b){o=o.toLowerCase();var m=this.dateTimeFormat("AM")||"",g=this.dateTimeFormat("PM")||"";if(m){k=o.indexOf(m.toLowerCase())>-1}if(g){f=o.indexOf(g.toLowerCase())>-1}var j=f?g:m;o=o.replace(j.toLowerCase(),"");o=jTAC.trimStr(o)}var q=this._cache.parseTimeRE;if(!q){var p=jTAC.escapeRE(n);var h=this.getParseTimeRequires();var c="^(\\d{1,4})("+p+"(\\d{1,2}))"+((h=="h")?"?":"");if(this._timePattern().indexOf("s")>-1){c+="("+p+"(\\d{1,2}))"+((h!="s")?"?":"")}c+="$";this._cache.parseTimeRE=q=new RegExp(c)}var d=q.exec(o);if(d==null){return null}var a={h:parseInt(d[1],10),m:d[3]!=null?parseInt(d[3],10):0,s:d[5]!=null?parseInt(d[5],10):0};if(b){if(k||f){if(this.getParseStrict()){if((a.h>12)||(a.h==0)){this._inputError("Hours conflict with designator.")}}if(a.h<12&&f){a.h=a.h+12}else{if(k&&(a.h==12)){a.h=0}}}if(a.h>23){this._inputError("Hours exceeds 24.")}}if(a.m>59){this._inputError("Minutes exceeds 59.")}if(a.s>59){this._inputError("Seconds exceeds 59.")}return a},_strictTimePatternRE:function(){var f=this._cache.strictTimeRE;if(!f){var b=this._timePattern();b=jTAC.replaceAll(b,"'","");var g=this.getParseTimeRequires();if(g!="s"){b=b.replace(":ss","(:ss)?");if(g!="m"){if(b.indexOf("mm")>-1){b=b.replace(":mm","(:mm)?")}else{b=b.replace(":m","(:m)?")}}}b=b.replace(/h{1,4}/i,"(\\d{1,4})");b=b.replace(/m?m/,"(\\d{1,2})");b=b.replace(/s?s/,"(\\d{1,2})");b=jTAC.replaceAll(b,":",jTAC.escapeRE(this.dateTimeFormat("TimeSep")),true);b=b.replace(" ","\\s?");if(b.indexOf("t")>-1){var a=this.dateTimeFormat("AM");var d=this.dateTimeFormat("PM");var c=a?"((?:"+jTAC.escapeRE(a)+")|(?:"+jTAC.escapeRE(d)+"))":"";b=b.replace(/t?t/,c)}b="^"+b+"$";this._cache.strictTimeRE=f=new RegExp(b,"i")}return f},_formatTime:function(d,b){if(!b){b=this._timePattern()}if(!d.s&&(this.getTimeFormat()%10==2)){b=b.replace(":ss","").replace(":s","")}var c=b;c=jTAC.replaceAll(c,":",this.dateTimeFormat("TimeSep"),true);if(b.indexOf("h")>-1){var a=d.h%12;if(a==0){a=12}c=this._replacePart("h",a,c)}else{c=this._replacePart("H",d.h,c)}c=this._replacePart("m",d.m,c);c=this._replacePart("s",d.s,c);c=c.replace("tt",this.dateTimeFormat(d.h>11?"PM":"AM"));return c},_fromNeutralToNumber:function(c){var a=c.h*3600+c.m*60+c.s;var b=this.getTimeOneEqualsSeconds();return(b>1)?a/b:a},_fromNumberToNeutral:function(b){var a=this.getTimeOneEqualsSeconds();if(a>1){b=Math.floor(b*a)}return{y:0,M:1,d:1,h:Math.floor(b/3600),m:Math.floor((b%3600)/60),s:Math.floor(b%60)}},_toTimeInSeconds:function(a,c){var b=this.getUseUTC()?a.getUTCHours()*3600+a.getUTCMinutes()*60+a.getUTCSeconds():a.getHours()*3600+a.getMinutes()*60+a.getSeconds();if(c>1){return b/c}return b}};jTAC.define("TypeManagers.BaseTime",jTAC._internal.temp._TypeManagers_BaseTime);jTAC._internal.temp._TypeManagers_TimeOfDay={extend:"TypeManagers.BaseTime",constructor:function(a){this.callParent([a])},dataTypeName:function(){return"timeofday"},_reviewValue:function(b){b=this.callParent([b]);if(typeof(b)=="number"){var c=b;var a=this.getTimeOneEqualsSeconds();if(a>1){c=c*a}if(Math.floor(c/3600)>=24){this._inputError("Exceeds 24 hours")}}return b}};jTAC.define("TypeManagers.TimeOfDay",jTAC._internal.temp._TypeManagers_TimeOfDay);jTAC.defineAlias("TimeOfDay","TypeManagers.TimeOfDay");jTAC.defineAlias("TimeOfDay.NoSeconds","TypeManagers.TimeOfDay",{timeFormat:1});jTAC.defineAlias("TimeOfDay.NoZeroSeconds","TypeManagers.TimeOfDay",{timeFormat:2});jTAC.defineAlias("TimeOfDay.InSeconds","TypeManagers.TimeOfDay",{valueAsNumber:true});jTAC.defineAlias("TimeOfDay.InHours","TypeManagers.TimeOfDay",{valueAsNumber:true,timeOneEqualsSeconds:3600});jTAC.defineAlias("TimeOfDay.InSeconds.NoSeconds","TypeManagers.TimeOfDay",{valueAsNumber:true,timeFormat:1});jTAC.defineAlias("TimeOfDay.InHours.NoSeconds","TypeManagers.TimeOfDay",{valueAsNumber:true,timeOneEqualsSeconds:3600,timeFormat:1});jTAC.defineAlias("TimeOfDay.InSeconds.NoZeroSeconds","TypeManagers.TimeOfDay",{valueAsNumber:true,timeFormat:2});jTAC.defineAlias("TimeOfDay.InHours.NoZeroSeconds","TypeManagers.TimeOfDay",{valueAsNumber:true,timeOneEqualsSeconds:3600,timeFormat:2});jTAC._internal.temp._TypeManagers_DateTime={extend:"TypeManagers.BaseDatesAndTimes",require:["TypeManagers.Date","TypeManagers.TimeOfDay"],config:{dateOptions:null,timeOptions:null,timeRequired:true},dataTypeName:function(){return"datetime"},storageTypeName:function(){return"datetime"},supportsDates:function(){return true},supportsTimes:function(){return true},_parse:function(d){var a,c,b=this._dateTimeSplitter(d);a=this.getDateOptions()._parse(b.d);if(!a){return null}c=this.getTimeOptions()._parse(b.t);if(!c){if(this.getTimeRequired()){this._inputError("Time required.")}c={h:0,m:0,s:0}}a.h=c.h;a.m=c.m;a.s=c.s;return a},_dateTimeSplitter:function(l){var j=this.getDateOptions().getDateFormat();if((j<10)||(j==100)){var h=l.indexOf(" ");if(h==-1){return{d:l,t:null}}return{d:l.substr(0,h),t:l.substr(h+1)}}else{var n=this.getTimeOptions();var o=this._cache.timeFindRE;if(!o){var d=n.dateTimeFormat("LongTimePattern");var k=jTAC.escapeRE(n.dateTimeFormat("TimeSep"));var h=d.indexOf("t");var c="\\d?\\d"+k+"\\d?\\d("+k+"\\d?\\d)?";if(h>-1){var f=n.dateTimeFormat("AM")||"";var b=n.dateTimeFormat("PM")||"";if(f){var g="(("+f+")|("+b+"))";c=h<d.indexOf("h")?g+"\\s?"+c:c+"\\s?"+g}}o=this._cache.timeFindRE=new RegExp(c,"i")}var a=o.exec(l);if(!a){return{d:l,t:null}}return{d:l.replace(a[0],""),t:a[0]}}},_format:function(b){var a=this.getDateOptions()._format(b);var c=this.getTimeOptions()._format(b);if(a){if(c){return a+" "+c}else{return a}}else{return c}},_valChars:function(){return this.getDateOptions()._valChars()+this.getTimeOptions()._valChars()+" "},_setNeutralFormat:function(a){this.callParent([a]);this.getDateOptions()._setNeutralFormat(a.getDateOptions());this.getTimeOptions()._setNeutralFormat(a.getTimeOptions())},_isNull:function(b){var a=this.callParent([b]);if(a){return true}return this._isNullYear(b)},getDateOptions:function(){var a=this.config.dateOptions;if(!this.config.dateOptions){a=this.config.dateOptions=jTAC.create("TypeManagers.Date");this._registerChild(a)}return a},setDateOptions:function(b){if((b==null)||(typeof b!="object")){this._error("Must pass an object whose properties match those on the dateOptions property.")}if(b instanceof jTAC.TypeManagers.Date){this._registerChild(b);this.config.dateOptions=b}else{var c=this.getDateOptions();for(var a in c.config){if(b[a]!=undefined){c.config[a]=b[a]}}}},getTimeOptions:function(){var a=this.config.timeOptions;if(!this.config.timeOptions){a=this.config.timeOptions=jTAC.create("TypeManagers.TimeOfDay");this._registerChild(a)}return a},setTimeOptions:function(b){if((b==null)||(typeof b!="object")){this._error("Must pass an object whose properties match those on the timeOptions property.")}if(b instanceof jTAC.TypeManagers.TimeOfDay){this._registerChild(b);this.config.timeOptions=b}else{var c=this.getTimeOptions();for(var a in c.config){if(b[a]!=undefined){c.config[a]=b[a]}}}},setCultureName:function(a){this.callParent([a]);this.getDateOptions().setCultureName(a);this.getTimeOptions().setCultureName(a)}};jTAC.define("TypeManagers.DateTime",jTAC._internal.temp._TypeManagers_DateTime);jTAC.defineAlias("DateTime","TypeManagers.DateTime");jTAC.defineAlias("DateTime.Short","TypeManagers.DateTime");jTAC.defineAlias("DateTime.Short.NoSeconds","TypeManagers.DateTime",{timeOptions:{timeFormat:1}});jTAC.defineAlias("DateTime.Abbrev","TypeManagers.DateTime",{dateOptions:{dateFormat:10}});jTAC.defineAlias("DateTime.Long","TypeManagers.DateTime",{dateOptions:{dateFormat:20}});jTAC._internal.temp._TypeManagers_Duration={extend:"TypeManagers.BaseTime",constructor:function(a){this.callParent([a])},config:{timeFormat:10,maxHours:9999},configrules:{timeFormat:[10,11,12,100,101]},dataTypeName:function(){return"duration"},_reviewValue:function(b){if(b instanceof Date){if(b.getHours()>this.getMaxHours()){this._inputError("Exceeded the max hours limit.")}}else{if(typeof(b)=="number"){var c=b;var a=this.getTimeOneEqualsSeconds();if(a>1){c=c*a}if(Math.floor(c/3600)>this.getMaxHours()){this._inputError("Exceeded the max hours limit.")}}else{if(b!=null){this._error("Value's type is not supported")}}}return b},_isTOD:function(){return false},_timePattern:function(){switch(this.getTimeFormat()){case 100:return"HHHH:mm:ss";case 101:return"HHHH:mm";default:return this.callParent()}}};jTAC.define("TypeManagers.Duration",jTAC._internal.temp._TypeManagers_Duration);jTAC.defineAlias("Duration","TypeManagers.Duration");jTAC.defineAlias("Duration.NoSeconds","TypeManagers.Duration",{timeFormat:11});jTAC.defineAlias("Duration.NoZeroSeconds","TypeManagers.Duration",{timeFormat:12});jTAC.defineAlias("Duration.InSeconds","TypeManagers.Duration",{valueAsNumber:true});jTAC.defineAlias("Duration.InHours","TypeManagers.Duration",{valueAsNumber:true,timeOneEqualsSeconds:3600});jTAC.defineAlias("Duration.InSeconds.NoSeconds","TypeManagers.Duration",{valueAsNumber:true,timeFormat:11});jTAC.defineAlias("Duration.InHours.NoSeconds","TypeManagers.Duration",{valueAsNumber:true,timeOneEqualsSeconds:3600,timeFormat:11});jTAC.defineAlias("Duration.InSeconds.NoZeroSeconds","TypeManagers.Duration",{valueAsNumber:true,timeFormat:12});jTAC.defineAlias("Duration.InHours.NoZeroSeconds","TypeManagers.Duration",{valueAsNumber:true,timeOneEqualsSeconds:3600,timeFormat:12});jTAC._internal.temp._TypeManagers_MonthYear={extend:"TypeManagers.BaseDate",constructor:function(a){this.callParent([a])},dataTypeName:function(){return"monthyear"},_isNull:function(b){var a=this.callParent([b]);if(a){return true}return this._isNullYear(b)},_dateToNumber:function(a){return this.getUseUTC()?a.getUTCFullYear()*12+a.getUTCMonth():a.getFullYear()*12+a.getMonth()},_datePattern:function(){var a;switch(this.getDateFormat()){case 0:a="ShortMonthYearPattern";break;case 1:case 2:a="ShortMonthYearPatternMN";break;case 10:a="AbbrMonthYearPattern";break;case 20:a="LongMonthYearPattern";break;case 100:return"yyyy-MM";default:return""}return this.dateTimeFormat(a)},_skipDatePart:function(){return"d"}};jTAC.define("TypeManagers.MonthYear",jTAC._internal.temp._TypeManagers_MonthYear);jTAC.defineAlias("MonthYear","TypeManagers.MonthYear");jTAC.defineAlias("MonthYear.Short","TypeManagers.MonthYear");jTAC.defineAlias("MonthYear.Abbrev","TypeManagers.MonthYear",{dateFormat:10});jTAC.defineAlias("MonthYear.Long","TypeManagers.MonthYear",{dateFormat:20});jTAC._internal.temp._TypeManagers_DayMonth={extend:"TypeManagers.BaseDate",constructor:function(a){this.callParent([a])},config:{},configrules:{},dataTypeName:function(){return"daymonth"},_dateToNumber:function(a){var a=this.getUseUTC()?new Date(2012,a.getUTCMonth(),a.getUTCDate()):new Date(2012,a.getMonth(),a.getDate());return this.callParent([a])},_datePattern:function(){var a;switch(this.getDateFormat()){case 0:a="ShortMonthDayPattern";break;case 1:case 2:a="ShortMonthDayPatternMN";break;case 10:a="AbbrMonthDayPattern";break;case 20:a="LongMonthDayPattern";break;case 100:return"MM-dd";default:return""}return this.dateTimeFormat(a)},_skipDatePart:function(){return"y"}};jTAC.define("TypeManagers.DayMonth",jTAC._internal.temp._TypeManagers_DayMonth);jTAC.defineAlias("DayMonth","TypeManagers.DayMonth");jTAC.defineAlias("DayMonth.Short","TypeManagers.DayMonth");jTAC.defineAlias("DayMonth.Abbrev","TypeManagers.DayMonth",{dateFormat:10});jTAC.defineAlias("DayMonth.Long","TypeManagers.DayMonth",{dateFormat:20});jTAC._internal.temp._TypeManagers_BaseString={extend:"TypeManagers.Base","abstract":true,constructor:function(a){this.callParent([a])},nativeTypeName:function(){return"string"},storageTypeName:function(){return"string"},toValue:function(b){if(b==null){return""}if(typeof(b)!="string"){b=b.toString()}var a=this._stringToNative(b);return this._reviewValue(a)},toString:function(a){if(a==null){return""}if(typeof(a)!="string"){a=a.toString()}a=this._reviewValue(a);return this._nativeToString(a)},_nativeToString:function(a){if(a==null){return""}return a.toString()},_stringToNative:function(a){return a},_isNull:function(a){if(a==""){return true}return a==null},compare:function(b,a){b=this.toValue(b);a=this.toValue(a);if((b==null)||(a==null)){this._error("Parameter value was null.")}if(this._isCaseIns()){b=b.toLowerCase();a=a.toLowerCase()}if(b<a){return -1}else{if(b>a){return 1}}return 0},_isCaseIns:function(){return false},toValueNeutral:function(a){return a},toStringNeutral:function(a){return this.toString(a)},isValidChar:function(a){return true},toNumber:function(a){return null}};jTAC.define("TypeManagers.BaseString",jTAC._internal.temp._TypeManagers_BaseString);jTAC._internal.temp._TypeManagers_BaseStrongPatternString={extend:"TypeManagers.BaseString","abstract":true,constructor:function(a){this.callParent([a])},config:{altREPattern:""},configrules:{},_reviewValue:function(b){var c=this.callParent([b]);if(c==""){return c}var a;if(this.getAltREPattern()){a=new RegExp(this.getAltREPattern(),this._isCaseIns()?"i":"")}else{a=this._regExp()}if(!a||a.test(c)){return c}this._inputError("Invalid "+this.dataTypeName()+" ["+c+"]")},_regExp:function(){this._AM()}};jTAC.define("TypeManagers.BaseStrongPatternString",jTAC._internal.temp._TypeManagers_BaseStrongPatternString);jTAC._internal.temp._TypeManagers_BaseRegionString={extend:"TypeManagers.BaseString","abstract":true,constructor:function(a){this.callParent([a])},config:{region:"",regionsData:null},configrules:{},_nativeToString:function(b){if(b==null){return""}var c=b.toString();if(c==""){return""}var a=this._getRegionNode(c);if(!a){this._inputError("Invalid "+this.dataTypeName())}if(a.toFormat){c=a.toFormat(c)}return c},_reviewValue:function(b){b=this.callParent([b]);if(b==""){return b}var a=this._getRegionNode(b);if(!a){this._inputError("Invalid "+this.dataTypeName()+" ["+b+"]")}return b},isValidChar:function(d){if(!this.callParent([d])){return false}var a=this._selectRegionNodes();if(!a.length){return true}for(var b=0;b<a.length;b++){var f=a[b];if(!f.validChar){return true}if(typeof f.validChar=="string"){var c=this._cache.validCharRE;if(!c){c=this._cache=new RegExp(f.validChar)}return c.test(d)}if(f.validChar(d)){return true}}return false},toValueNeutral:function(b){if(!b){return""}try{this._pushContext();var a=this._getRegionNode(b);if(!a){this._inputError("Invalid "+this.dataTypeName()+" ["+b+"]")}if(a.toNeutral){b=a.toNeutral(b)}return b}finally{this._popContext()}},_selectRegionNodes:function(){function d(k){var j=k.split("|");var g=this.getRegionsData();for(var f=0;f<j.length;f++){var h=g[j[f]];if(!h){this._error("Region ["+j[f]+"] not defined in the regionsData object.")}if(typeof h=="string"){d.call(this,h);continue}if(typeof h=="object"){c.push(h)}else{this._error("Region ["+h+"] definition invalid.")}}}var a=this._internal.rds;if(!a||(this._internal.rdc!=jTAC._globalRegionNameCount)){var b=this.getRegion();if(b==""){b=this.getRegionsData().defaultName}if(b=="GLOBAL"){b=jTAC._globalRegionName}if(!b){this._error("Could not identify a region name from the region property.")}var c=[];d.call(this,b);a=this._internal.rds=c;this._internal.rdc=jTAC._globalRegionNameCount}return a},_getRegionNode:function(f){var d=this._selectRegionNodes();for(var b=0;b<d.length;b++){var a=d[b];if(!f){return a}if(typeof a.pattern=="function"){if(a.call(this,f)){return a}}else{var c=new RegExp(this._resolvePattern.call(this,a),a.caseIns?"i":"");if(c.test(f)){return a}}}return null},_resolvePattern:function(a){return a.pattern},_defaultRegionsData:function(){this._AM()},applyNumberMask:function(l,o,c,f){var n=c?0:l.length-1;var d=c?0:o.length-1;var b=c?1:-1;var h=c?l.length:-1;var k=c?o.length-1:0;var a="";for(var j=d;c?j<=k:j>=k;j=j+b){var g=o.charAt(j);if(g=="#"){do{if(n==h){g=f;break}g=l.charAt(n);n=n+b}while((g<"0")||(g>"9"))}if(c){a=a+g}else{a=g+a}}if(n!=h){for(var j=n;c?j<h:j>h;j=j+b){var g=l.charAt(j);if((g>="0")&&(g<="9")){if(c){a=a+g}else{a=g+a}}}}return a},setRegion:function(a){this.config.region=jTAC.checkAsStr(a);this._internal.rds=null},getRegionsData:function(){var a=this.config.regionsData;if(!a){a=this.config.regionsData=this._defaultRegionsData()}return a},setRegionsData:function(a){if(typeof(a)!="object"){this._error("RegionsData must be an object")}this.config.regionsData=a}};jTAC.define("TypeManagers.BaseRegionString",jTAC._internal.temp._TypeManagers_BaseRegionString);jTAC.setGlobalRegionName=function(a){jTAC._globalRegionName=a;jTAC._globalRegionNameCount++};jTAC._globalRegionName=null;jTAC._globalRegionNameCount=0;jTAC._internal.temp._TypeManagers_String={extend:"TypeManagers.BaseString",constructor:function(a){this.callParent([a])},config:{caseIns:false},dataTypeName:function(){return"string"},_isCaseIns:function(){return this.config.caseIns}};jTAC.define("TypeManagers.String",jTAC._internal.temp._TypeManagers_String);jTAC.defineAlias("String","TypeManagers.String");jTAC.defineAlias("String.caseins","TypeManagers.String",{caseIns:true});jTAC._internal.temp._TypeManagers_EmailAddress={extend:"TypeManagers.BaseStrongPatternString",constructor:function(a){this.callParent([a])},config:{multiple:false,delimiterRE:";[ ]?"},dataTypeName:function(){return"EmailAddress"},_regExp:function(){var a="^"+this._addressRE;if(this.getMultiple()){a+="("+this.getDelimiterRE()+this._addressRE+")*"}a+="$";return new RegExp(a,"i")},_addressRE:"([\\w\\.!#\\$%\\-+.'_]+@[A-Za-z0-9\\-]+(\\.[A-Za-z0-9\\-]{2,})+)"};jTAC.define("TypeManagers.EmailAddress",jTAC._internal.temp._TypeManagers_EmailAddress);jTAC.defineAlias("EmailAddress","TypeManagers.EmailAddress");jTAC.defineAlias("EmailAddress.Multiple","TypeManagers.EmailAddress",{multiple:true});jTAC._internal.temp._TypeManagers_PhoneNumber={extend:"TypeManagers.BaseRegionString",constructor:function(a){this.callParent([a])},config:{supportsExt:false},dataTypeName:function(){return"PhoneNumber"},_resolvePattern:function(a){var c=a.pattern;if(this.getSupportsExt()){var b=a.extensionRE||"(\\s?\\#\\d{1,10})?";c=jTAC.replaceAll(c,"\\$\\)",b+"$)",false)}return c},_defaultRegionsData:function(){return window.jTAC_PhoneNumberRegionsData}};jTAC.define("TypeManagers.PhoneNumber",jTAC._internal.temp._TypeManagers_PhoneNumber);jTAC.defineAlias("PhoneNumber","TypeManagers.PhoneNumber");jTAC.defineAlias("PhoneNumber.NorthAmerica","TypeManagers.PhoneNumber",{region:"NorthAmerica"});jTAC.defineAlias("PhoneNumber.NorthAmerica.CountryCode","TypeManagers.PhoneNumber",{region:"NorthAmerica|CountryCode"});jTAC.defineAlias("PhoneNumber.UnitedStates","TypeManagers.PhoneNumber",{region:"UnitedStates"});jTAC.defineAlias("PhoneNumber.UnitedKingdom","TypeManagers.PhoneNumber",{region:"UnitedKingdom"});jTAC.defineAlias("PhoneNumber.France","TypeManagers.PhoneNumber",{region:"France"});jTAC.defineAlias("PhoneNumber.Japan","TypeManagers.PhoneNumber",{region:"Japan"});jTAC.defineAlias("PhoneNumber.Germany","TypeManagers.PhoneNumber",{region:"Germany"});jTAC.defineAlias("PhoneNumber.China","TypeManagers.PhoneNumber",{region:"China"});jTAC.defineAlias("PhoneNumber.Canada","TypeManagers.PhoneNumber",{region:"Canada"});var jTAC_PhoneNumberRegionsData={defaultName:"Any",Any:{name:"Any",pattern:"(^\\+?\\d([\\-\\.]?\\d){6,19}$)",validChar:"[0-9\\+\\-\\.]"},CountryCode:{name:"CountryCode",pattern:"(^\\+(?:\\d ?){6,14}\\d$)",validChar:"[0-9\\+ ]"},NorthAmerica:{name:"NorthAmerica",pattern:"(^([1])?[ ]?((\\([2-9]\\d{2}\\))|([2-9]\\d{2}))?[ ]?\\d{3}[ \\-]?\\d{4}$)",validChar:"[0-9\\+\\- \\(\\)]",toNeutral:function(d){var c="";for(var a=0;a<d.length;a++){var b=d.charAt(a);if((b>="0")&&(b<="9")){c+=b}}return c},toFormat:function(c){var b=jTAC_PhoneNumberRegionsData.NorthAmerica;var a=b.toNeutral(c);return jTAC.TypeManagers.BaseRegionString.prototype.applyNumberMask(a,b.formatMask,false,"")},formatMask:"#(###) ###-####"},UnitedStates:"NorthAmerica",Canada:"NorthAmerica",France:{name:"France",pattern:"(^(0( \\d|\\d ))?\\d\\d \\d\\d(\\d \\d| \\d\\d )\\d\\d$)",validChar:"[0-9 ]"},Japan:{name:"Japan",pattern:"(^(0\\d{1,4}-|\\(0\\d{1,4}\\) ?)?\\d{1,4}-\\d{4}$)",validChar:"[0-9\\- \\(\\)]"},Germany:{name:"Germany",pattern:"(^((\\(0\\d\\d\\) |(\\(0\\d{3}\\) )?\\d )?\\d\\d \\d\\d \\d\\d|\\(0\\d{4}\\) \\d \\d\\d-\\d\\d?)$)",validChar:"[0-9\\- \\(\\)]"},China:{name:"China",pattern:"(^(\\(\\d{3}\\)|\\d{3}-)?\\d{8}$)",validChar:"[0-9\\- \\(\\)]"},UnitedKingdom:{name:"UnitedKingdom",pattern:"(^(((\\+44\\s?\\d{4}|\\(?0\\d{4}\\)?)\\s?\\d{3}\\s?\\d{3})|((\\+44\\s?\\d{3}|\\(?0\\d{3}\\)?)\\s?\\d{3}\\s?\\d{4})|((\\+44\\s?\\d{2}|\\(?0\\d{2}\\)?)\\s?\\d{4}\\s?\\d{4}))$)",validChar:"[0-9\\+ \\(\\)]"}};jTAC._internal.temp._TypeManagers_PostalCode={extend:"TypeManagers.BaseRegionString",constructor:function(a){this.callParent([a])},config:{supportsExt:false},dataTypeName:function(){return"PostalCode"},_defaultRegionsData:function(){return window.jTAC_PostalCodeRegionsData}};jTAC.define("TypeManagers.PostalCode",jTAC._internal.temp._TypeManagers_PostalCode);jTAC.defineAlias("PostalCode","TypeManagers.PostalCode");jTAC.defineAlias("PostalCode.NorthAmerica","TypeManagers.PostalCode",{region:"NorthAmerica"});jTAC.defineAlias("PostalCode.UnitedStates","TypeManagers.PostalCode",{region:"UnitedStates"});jTAC.defineAlias("PostalCode.UnitedKingdom","TypeManagers.PostalCode",{region:"UnitedKingdom"});jTAC.defineAlias("PostalCode.France","TypeManagers.PostalCode",{region:"France"});jTAC.defineAlias("PostalCode.Japan","TypeManagers.PostalCode",{region:"Japan"});jTAC.defineAlias("PostalCode.Germany","TypeManagers.PostalCode",{region:"Germany"});jTAC.defineAlias("PostalCode.China","TypeManagers.PostalCode",{region:"China"});jTAC.defineAlias("PostalCode.Canada","TypeManagers.PostalCode",{region:"Canada"});var jTAC_PostalCodeRegionsData={defaultName:"UnitedStates|Canada",UnitedStates:{name:"UnitedStates",pattern:"(^(\\d{5}-\\d{4}|\\d{5})$)",validChar:"[0-9\\-]"},Canada:{name:"Canada",pattern:"(^[ABCEGHJ-NPRSTVXY]\\d[ABCEGHJ-NPRSTV-Z][ ]?\\d[ABCEGHJ-NPRSTV-Z]\\d$)",caseIns:true,validChar:"[0-9A-Za-z ]"},NorthAmerica:"UnitedStates|Canada",UnitedKingdom:{name:"UnitedKingdom",pattern:"(^(GIR 0AA|[A-PR-UWYZ]([0-9][0-9A-HJKPS-UW]?|[A-HK-Y][0-9][0-9ABEHMNPRV-Y]?) [0-9][ABD-HJLNP-UW-Z]{2})$)",validChar:"[0-9A-Z ]"},France:{name:"France",pattern:"(^\\d{5}$)",validChar:"[0-9]"},Japan:{name:"Japan",pattern:"(^\\d{3}(-(\\d{4}|\\d{2}))?$)",validChar:"[0-9\\-]"},Germany:{name:"Germany",pattern:"(^\\d{5}$)",validChar:"[0-9\\-D]"},China:{name:"China",pattern:"(^\\d{6}$)",validChar:"[0-9]"}};jTAC._internal.temp._TypeManagers_CreditCardNumber={extend:"TypeManagers.BaseString",constructor:function(a){this.callParent([a])},config:{brands:[{len:16,prefix:"51|52|53|54|55"},{len:13,prefix:"4"},{len:16,prefix:"4"},{len:15,prefix:"34|37"},{len:14,prefix:"300|301|302|303|305|36|38"},{len:16,prefix:"6011"}],allowSeps:""},configrules:{},dataTypeName:function(){return"CreditCardNumber"},_reviewValue:function(k){if(k==""){return""}var c=this.getAllowSeps();if(c){k=jTAC.replaceAll(k,c,"",true)}var g=k.length;if(g<10){this._inputError("Not enough digits")}if(!/^(\d+)$/.test(k)){this._inputError("Illegal character")}var n=this.getBrands();if(n){var a=0;for(var f=0;f<n.length;f++){var b=n[f];if(b.len==g){var m=new RegExp("^("+b.prefix+")","i");if(m.test(k)){a=1;break}}}if(!a){this._inputError("Brand mismatch")}}var l=0;var h=true;for(var f=g-1;f>=0;f--){var j=parseInt(k.charAt(f),10);if(h){l+=j}else{j=j*2;if(j>9){l+=1+(j%10)}else{l+=j}}h=!h}if(l%10!=0){this._inputError("Failed Luhns")}return k},isValidChar:function(a){if(!this.callParent([a])){return false}if(this.getAllowSeps()==a){return true}return"1234567890".indexOf(a)>-1},setBrands:function(a){if((a instanceof Array)||(a==null)){this.config.brands=a}else{this._error("Parameter must be an array or null.")}},setAllowSeps:function(a){if((typeof a=="string")&&(a.length<=1)){this.config.allowSeps=a}else{this._error("Parameter must be a 1 character string.")}}};jTAC.define("TypeManagers.CreditCardNumber",jTAC._internal.temp._TypeManagers_CreditCardNumber);jTAC.defineAlias("CreditCardNumber","TypeManagers.CreditCardNumber");jTAC.defineAlias("CreditCardNumber.AllBrands","TypeManagers.CreditCardNumber",{brands:null});jTAC._internal.temp._TypeManagers_URL={extend:"TypeManagers.BaseStrongPatternString",constructor:function(a){this.callParent([a])},config:{uriScheme:"http|https",domainExt:"aero|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|travel|jobs|mobi|pro|co",supportsIP:false,supportsPort:false,supportsPath:true,requireUriScheme:true},configrules:{},dataTypeName:function(){return"Url"},_regExp:function(){var a="^((?:"+this.getUriScheme()+")\\://)";if(!this.getRequireUriScheme()){a+="?"}if(this.getSupportsIP()){a+="(("}a+=this._domainRE;var b=this.getDomainExt();if(!b){b=this._defDomainExt}a+=this._domainExtRE.replace("{DE}",b);if(this.getSupportsIP()){a+=")|("+this._IPAddressRE+"))"}if(this.getSupportsPort()){a=a+this._portRE}if(this.getSupportsPath()){a+="/?("+this._filePathRE+")?"}else{a+="/?"}a+="$";return new RegExp(a,"i")},_domainRE:"[a-zA-Z0-9\\-\\.]+",_IPAddressRE:"(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|0?[1-9]{1}[0-9]{1}|0{0,2}[1-9])\\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|0?[1-9]{1}[0-9]{1}|0{0,2}[1-9]|0)\\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|0?[1-9]{1}[0-9]{1}|0{0,2}[1-9]|0)\\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|0?[1-9]{1}[0-9]{1}|0{0,2}[0-9])",_domainExtRE:"(?:\\.[a-z]{2})?\\.(?:{DE})(?:\\.[a-z]{2})?",_defDomainExt:"[a-zA-Z]{2,3}",_portRE:"(?:\\:\\d+)?",_filePathRE:"(?:/[a-zA-Z0-9_/%\\$#~][a-zA-Z0-9\\-\\._\\'/\\+%\\$#~]+[A-Za-z0-9])*"};jTAC.define("TypeManagers.Url",jTAC._internal.temp._TypeManagers_URL);jTAC.defineAlias("Url","TypeManagers.Url");jTAC.defineAlias("Url.FTP","TypeManagers.Url",{uriScheme:"ftp"});jTAC._internal.temp._TypeManagers_Boolean={extend:"TypeManagers.Base",constructor:function(a){this.callParent([a])},config:{reFalse:/^((false)|(0))$/i,reTrue:/^((true)|(1))$/i,numFalse:[0],numTrue:[1],falseStr:"false",trueStr:"true",emptyStrFalse:true},configrules:{reFalse:jTAC.checkAsRegExp,reTrue:jTAC.checkAsRegExp},nativeTypeName:function(){return"boolean"},dataTypeName:function(){return"boolean"},storageTypeName:function(){return"boolean"},_nativeToString:function(a){return a?this.getTrueStr():this.getFalseStr()},toValue:function(a){if(typeof(a)=="number"){return this._numberToBoolean(a)}return this.callParent([a])},_stringToNative:function(b){if(b==""){if(this.getEmptyStrFalse()){return false}this._error("Empty string is not permitted when emptyStrFalse = false.")}else{var a=this.getReFalse();if(a&&a.test(b)){return false}a=this.getReTrue();if(a&&a.test(b)){return true}}this._inputError("Could not convert the string '"+b+"' to a boolean.")},_isNull:function(a){if(a==""){return !this.getEmptyStrFalse()}return a==null},_numberToBoolean:function(a){var c=this.getNumFalse();if(c&&(c.length>0)&&(c.indexOf(a)>-1)){return false}var b=this.getNumTrue();if(b){if(b===true){return true}if((b.length>0)&&(b.indexOf(a)>-1)){return true}}this._inputError("Could not convert the number "+a+" to a boolean.")},toValueNeutral:function(a){if(typeof(a)=="boolean"){return a}if(/^false$/i.test(a)){return false}if(/^true$/i.test(a)){return true}this._inputError("Required values: 'false' and 'true'")},toStringNeutral:function(a){if(a==null){return""}return a?"true":"false"},_reviewValue:function(a){return !!a},isValidChar:function(a){return true},toNumber:function(a){return a?1:0},setNumFalse:function(a){if(typeof(a)=="number"){a=[a]}this.config.numFalse=a},setNumTrue:function(a){if(typeof(a)=="number"){a=[a]}this.config.numTrue=a}};jTAC.define("TypeManagers.Boolean",jTAC._internal.temp._TypeManagers_Boolean);jTAC.defineAlias("Boolean","TypeManagers.Boolean");